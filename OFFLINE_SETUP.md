# โ ุชู ุชุญุณูู ูุธุงู ุงูุนูู ุจุฏูู ุฅูุชุฑูุช

## ๐ ูุง ุชู ุฅูุฌุงุฒู:

### 1. **ูุธุงู ุชุฎุฒูู ูุญูู ุดุงูู (IndexedDB)**

- โ ุญูุธ ุฌููุน ุงูุจูุงูุงุช ูุญููุงู
- โ ูุฑุงุกุฉ ุณุฑูุนุฉ ูู ุงูุชุฎุฒูู ุงููุญูู
- โ ุฏุนู ุฌููุน ุงูุฌุฏุงูู (ุนููุงุกุ ูุนุฏุงุชุ ุฅูุฌุงุฑุงุช)

### 2. **ูุงุฆูุฉ ุงูุชุธุงุฑ ุงูุนูููุงุช (Sync Queue)**

- โ ุชุณุฌูู ูู ุนูููุฉ (ุฅุถุงูุฉุ ุชุนุฏููุ ุญุฐู)
- โ ุฅุนุงุฏุฉ ูุญุงููุฉ ุงูุนูููุงุช ุงููุงุดูุฉ (3 ูุฑุงุช)
- โ ุชุฑุชูุจ ุฐูู ููุนูููุงุช

### 3. **ูุฒุงููุฉ ุชููุงุฆูุฉ ุฐููุฉ**

- โ ูุฒุงููุฉ ุนูุฏ ุงูุนูุฏุฉ ููุฅูุชุฑูุช (ุจุนุฏ 2 ุซุงููุฉ)
- โ ูุฒุงููุฉ ุฏูุฑูุฉ (ูู 5 ุฏูุงุฆู)
- โ ูุฒุงููุฉ ูุฏููุฉ (ุฒุฑ ูู ุงููุงุฌูุฉ)
- โ ุณุญุจ ุฃุญุฏุซ ุงูุจูุงูุงุช ุจุนุฏ ุงููุฒุงููุฉ

### 4. **ูุงุฌูุฉ ูุณุชุฎุฏู ูุญุณููุฉ**

- โ ูุคุดุฑ ุญุงูุฉ ุงูุงุชุตุงู (ุฃุณูู ูุณุงุฑ ุงูุดุงุดุฉ)
- โ ุนุฏุงุฏ ุงูุนูููุงุช ูู ุงูุงูุชุธุงุฑ
- โ ููุช ุขุฎุฑ ูุฒุงููุฉ
- โ ุฒุฑ ูุฒุงููุฉ ูุฏููุฉ
- โ ุฅุดุนุงุฑุงุช ููุนูููุงุช

### 5. **Service Worker**

- โ ุชุฎุฒูู ูุคูุช ูููููุงุช ุงูุซุงุจุชุฉ
- โ ุนูู ุงูุชุทุจูู ุจุฏูู ุฅูุชุฑูุช ูุงูู

## ๐ ููููุฉ ุงูุงุณุชุฎุฏุงู:

### ูููุณุชุฎุฏููู:

1. **ุงูุนูู ุงูุนุงุฏู:**

   - ุงุณุชุฎุฏู ุงูุชุทุจูู ูุงููุนุชุงุฏ
   - ูู ุดูุก ุณูุนูู ุญุชู ุจุฏูู ุฅูุชุฑูุช

2. **ุนูุฏ ูุทุน ุงูุฅูุชุฑูุช:**

   - ุณุชุฑู ูุคุดุฑ "ุบูุฑ ูุชุตู" ๐ด
   - ุงุณุชูุฑ ูู ุงูุนูู ุจุดูู ุทุจูุนู
   - ุฌููุน ุงูุนูููุงุช ุณุชูุญูุธ ูุญููุงู

3. **ุนูุฏ ุนูุฏุฉ ุงูุฅูุชุฑูุช:**

   - ุณุชุฑู ูุคุดุฑ "ูุชุตู" ๐ข
   - ุณูุจุฏุฃ ุงููุธุงู ุจุงููุฒุงููุฉ ุชููุงุฆูุงู
   - ุงูุชุธุฑ ุญุชู ุชูุชูู ุงููุฒุงููุฉ

4. **ุงููุฒุงููุฉ ุงููุฏููุฉ:**
   - ุงูุธุฑ ูููุฑุจุน ุฃุณูู ูุณุงุฑ ุงูุดุงุดุฉ
   - ุฅุฐุง ูุงู ููุงู "5 ุนูููุงุช ูู ุงูุงูุชุธุงุฑ"
   - ุงุถุบุท "ูุฒุงููุฉ ุงูุขู" ๐

### ูููุทูุฑูู:

#### ุงุณุชุฎุฏุงู ุงูู Hooks:

```typescript
// ูู ุฃู ุตูุญุฉ
import {
  useOfflineQuery,
  useOfflineMutation,
} from "@/lib/offline/useOfflineData";

// ูุฑุงุกุฉ ุจูุงูุงุช
const { data: items, isLoading } = useOfflineQuery({
  queryKey: ["customers"],
  table: "customers",
});

// ูุชุงุจุฉ ุจูุงูุงุช
const mutation = useOfflineMutation({
  table: "customers",
  operation: "insert",
  onSuccess: () => console.log("Done!"),
});

mutation.mutate(newData);
```

## ๐ ุงููููุงุช ุงููุถุงูุฉ/ุงููุญุฏุซุฉ:

### ุฌุฏูุฏุฉ:

- โ `src/lib/offline/useOfflineData.ts` - Hooks ููุนูู ูุน ุงูุจูุงูุงุช
- โ `src/components/SyncManager.tsx` - ูุฏูุฑ ุงููุฒุงููุฉ
- โ `public/sw.js` - Service Worker
- โ `OFFLINE_MODE.md` - ุชูุซูู ูุงูู
- โ `OFFLINE_SETUP.md` - ูุฐุง ุงูููู

### ูุญุฏุซุฉ:

- โ `src/lib/offline/sync.ts` - ุชุญุณููุงุช ุงููุฒุงููุฉ
- โ `src/App.tsx` - ุฅุถุงูุฉ SyncManager
- โ `src/main.tsx` - ุชุณุฌูู Service Worker

## ๐งช ุงุฎุชุจุงุฑ ุงููุธุงู:

### 1. ุงุฎุชุจุงุฑ Offline:

```bash
# ูู Chrome DevTools:
1. ุงูุชุญ DevTools (F12)
2. ุงุฐูุจ ูุชุจููุจ "Network"
3. ุงุฎุชุฑ "Offline" ูู ุงููุงุฆูุฉ ุงูููุณุฏูุฉ
4. ุฌุฑุจ ุฅุถุงูุฉ ุนููู ุฃู ูุนุฏุฉ
5. ุชุญูู ูู ุญูุธ ุงูุจูุงูุงุช
```

### 2. ุงุฎุชุจุงุฑ ุงููุฒุงููุฉ:

```bash
1. ุงุนูู offline
2. ุฃุถู ุจุนุถ ุงูุจูุงูุงุช
3. ุงุฑุฌุน online
4. ุฑุงูุจ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ
5. ุชุญูู ูู ุงูุฏุงุชุง ูู Supabase
```

### 3. ุงุฎุชุจุงุฑ Service Worker:

```bash
# ูู Chrome DevTools:
1. ุงุฐูุจ ูุชุจููุจ "Application"
2. ุงุฎุชุฑ "Service Workers"
3. ุชุญูู ูู ุงูุชุณุฌูู ุจูุฌุงุญ
```

## โ๏ธ ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ:

### ุชุฎุตูุต ูุชุฑุฉ ุงููุฒุงููุฉ:

```typescript
// ูู SyncManager.tsx - ุณุทุฑ 58
const syncInterval = 5 * 60 * 1000; // ุบูุฑูุง ุญุณุจ ุงูุญุงุฌุฉ
```

### ุชุฎุตูุต ุนุฏุฏ ุงููุญุงููุงุช:

```typescript
// ูู sync.ts - ุณุทุฑ 7
const MAX_RETRIES = 3; // ุบูุฑูุง ุญุณุจ ุงูุญุงุฌุฉ
```

### ุชุฎุตูุต ููุช ุงูุงูุชุธุงุฑ:

```typescript
// ูู SyncManager.tsx - ุณุทุฑ 36
syncTimeout = setTimeout(() => {
  handleSync();
}, 2000); // 2 ุซุงููุฉ - ุบูุฑูุง ุญุณุจ ุงูุญุงุฌุฉ
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก:

### ุงููุฒุงููุฉ ูุง ุชุนูู:

1. ุชุญูู ูู Console ููุฃุฎุทุงุก
2. ุชุญูู ูู ุญุงูุฉ ุงูุฅูุชุฑูุช
3. ุฌุฑุจ ุงููุฒุงููุฉ ุงููุฏููุฉ
4. ุชุญูู ูู ุตูุงุญูุงุช Supabase

### ุงูุจูุงูุงุช ูุง ุชุธูุฑ:

1. ุชุญูู ูู IndexedDB ูู DevTools
2. ุงูุญุต `sync_queue` ููุนูููุงุช ุงููุนููุฉ
3. ุฃุนุฏ ุชุญููู ุงูุตูุญุฉ

### Service Worker ูุง ูุนูู:

1. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู HTTPS ุฃู localhost
2. ุงูุญุต Console ููุฃุฎุทุงุก
3. ุงูุณุญ ุงููุงุด ูุฃุนุฏ ุชุญููู

## ๐ ุงููุฑุงูุจุฉ ูุงูุชูุงุฑูุฑ:

### ูู Console:

```javascript
// ุชุญูู ูู ูุงุฆูุฉ ุงูุงูุชุธุงุฑ
import { getQueue } from "@/lib/offline/queue";
const queue = await getQueue();
console.log("Pending operations:", queue);

// ุชุญูู ูู ุงูุจูุงูุงุช ุงููุญููุฉ
import { getAllFromLocal } from "@/lib/offline/db";
const customers = await getAllFromLocal("customers");
console.log("Local customers:", customers);
```

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ):

1. **ุชุญุณูู ุงูุฃุฏุงุก:**

   - ุฅุถุงูุฉ pagination ููุจูุงูุงุช ุงููุจูุฑุฉ
   - ุถุบุท ุงูุจูุงูุงุช ูุจู ุงูุชุฎุฒูู

2. **ููุฒุงุช ุฅุถุงููุฉ:**

   - ุชุตุฏูุฑ ุงูุจูุงูุงุช ุงููุญููุฉ
   - ุงุณุชูุฑุงุฏ ุจูุงูุงุช ูู ููู
   - ูุณุฎ ุงุญุชูุงุทู ุชููุงุฆู

3. **ุงูุชูุงุฑูุฑ:**
   - ุตูุญุฉ ูุนุฑุถ ุญุงูุฉ ุงููุฒุงููุฉ
   - ุณุฌู ุชุงุฑูุฎ ุงูุนูููุงุช
   - ุฅุญุตุงุฆูุงุช ุงูุงุณุชุฎุฏุงู

## โ ุงูุฎูุงุตุฉ:

ุงููุธุงู ุงูุขู ูุฏุนู **ุงูุนูู ุงููุงูู ุจุฏูู ุฅูุชุฑูุช** ูุน:

- ๐ข ุญูุธ ุชููุงุฆู ููุจูุงูุงุช
- ๐ข ูุฒุงููุฉ ุฐููุฉ
- ๐ข ูุงุฌูุฉ ูุงุถุญุฉ
- ๐ข ูุนุงูุฌุฉ ุดุงููุฉ ููุฃุฎุทุงุก

**ุฌุฑุจ ุงูุขู:**

1. ุงูุตู ุงูุฅูุชุฑูุช
2. ุฃุถู ุนููู ุฌุฏูุฏ
3. ุฃุถู ูุนุฏุฉ
4. ุณุฌู ุฅูุฌุงุฑ
5. ุฃุนุฏ ุงูุงุชุตุงู
6. ุฑุงูุจ ุงููุฒุงููุฉ ุงูุชููุงุฆูุฉ! ๐
